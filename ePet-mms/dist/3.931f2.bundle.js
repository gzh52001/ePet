(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{121:function(e,t,a){"use strict";var o=a(80);t.a={userLogin:(e,t,a)=>Object(o.a)({method:"post",url:"loginMms/login",data:{username:e,userpass:t,keep:a}}),checkToken:e=>Object(o.a)({method:"get",url:"loginMms/verify?token="+e})}},134:function(e,t,a){var o=a(16),s=a(342);"string"==typeof(s=s.__esModule?s.default:s)&&(s=[[e.i,s,""]]);var n={insert:"head",singleton:!1};o(s,n);e.exports=s.locals||{}},342:function(e,t,a){(t=a(17)(!1)).push([e.i,".layout .header{display:flex;justify-content:space-between}.layout .header .logo img{width:40px;height:40px;line-height:64px;display:inline-block}.layout .header .logo span{font-size:14px;margin-left:10px;color:#fff}.layout .header .logout{color:yellow}.layout .header .logout .logoutbtn{color:#fff;font-size:13px}.layout .sidebar .ant-menu-submenu-arrow{display:none}#components-layout-demo-top-side-2 .logo{width:120px;height:31px;background:rgba(255,255,255,0.2);margin:16px 28px 16px 0;float:left}.site-layout-background{background:#fff}\n",""]),e.exports=t},400:function(e,t,a){var o=a(16),s=a(401);"string"==typeof(s=s.__esModule?s.default:s)&&(s=[[e.i,s,""]]);var n={insert:"head",singleton:!1};o(s,n);e.exports=s.locals||{}},401:function(e,t,a){(t=a(17)(!1)).push([e.i,".custom .search-form{display:flex}.custom .search-form .ant-form-item{margin-right:15px}.custom .search-form .ant-form-item .ant-btn{margin-left:6px}\n",""]),e.exports=t},536:function(e,t,a){var o=a(16),s=a(537);"string"==typeof(s=s.__esModule?s.default:s)&&(s=[[e.i,s,""]]);var n={insert:"head",singleton:!1};o(s,n);e.exports=s.locals||{}},537:function(e,t,a){(t=a(17)(!1)).push([e.i,".goods .add{border:none;margin-left:40px;width:70px;height:30px;background-color:skyblue}.goods .boxbutton{width:60px;height:30px;border:none}.goods .formfater{width:2000px;position:fixed;top:0;left:0;bottom:0;right:0;margin:auto;height:2000px;background-color:rgba(0,0,0,0.3)}.goods .formfater .formlist{position:fixed;top:0;left:0;bottom:0;right:0;margin:auto;width:500px;height:300px;padding:20px;background-color:#f3f4f5;border-radius:20px}.goods .formfater .formlist h2{font-size:20px;line-height:20px;text-align:center;margin-bottom:20px}\n",""]),e.exports=t},539:function(e,t,a){var o=a(16),s=a(540);"string"==typeof(s=s.__esModule?s.default:s)&&(s=[[e.i,s,""]]);var n={insert:"head",singleton:!1};o(s,n);e.exports=s.locals||{}},540:function(e,t,a){(t=a(17)(!1)).push([e.i,".order .ant-table-pagination.ant-pagination{position:absolute;bottom:-100px;left:25%;margin-left:-200px}.order .ant-form{display:flex;flex-wrap:wrap;align-items:center;justify-content:center}.order .ant-form #basic_gid{width:90px;height:30px;margin-right:30px}.order .ant-form #basic_uid{width:90px;height:30px;margin-right:10px}.order .ant-form .ant-form-item-control-input-content{display:flex}\n",""]),e.exports=t},545:function(e,t,a){var o={"./af":186,"./af.js":186,"./ar":187,"./ar-dz":188,"./ar-dz.js":188,"./ar-kw":189,"./ar-kw.js":189,"./ar-ly":190,"./ar-ly.js":190,"./ar-ma":191,"./ar-ma.js":191,"./ar-sa":192,"./ar-sa.js":192,"./ar-tn":193,"./ar-tn.js":193,"./ar.js":187,"./az":194,"./az.js":194,"./be":195,"./be.js":195,"./bg":196,"./bg.js":196,"./bm":197,"./bm.js":197,"./bn":198,"./bn.js":198,"./bo":199,"./bo.js":199,"./br":200,"./br.js":200,"./bs":201,"./bs.js":201,"./ca":202,"./ca.js":202,"./cs":203,"./cs.js":203,"./cv":204,"./cv.js":204,"./cy":205,"./cy.js":205,"./da":206,"./da.js":206,"./de":207,"./de-at":208,"./de-at.js":208,"./de-ch":209,"./de-ch.js":209,"./de.js":207,"./dv":210,"./dv.js":210,"./el":211,"./el.js":211,"./en-au":212,"./en-au.js":212,"./en-ca":213,"./en-ca.js":213,"./en-gb":214,"./en-gb.js":214,"./en-ie":215,"./en-ie.js":215,"./en-il":216,"./en-il.js":216,"./en-in":217,"./en-in.js":217,"./en-nz":218,"./en-nz.js":218,"./en-sg":219,"./en-sg.js":219,"./eo":220,"./eo.js":220,"./es":221,"./es-do":222,"./es-do.js":222,"./es-us":223,"./es-us.js":223,"./es.js":221,"./et":224,"./et.js":224,"./eu":225,"./eu.js":225,"./fa":226,"./fa.js":226,"./fi":227,"./fi.js":227,"./fil":228,"./fil.js":228,"./fo":229,"./fo.js":229,"./fr":230,"./fr-ca":231,"./fr-ca.js":231,"./fr-ch":232,"./fr-ch.js":232,"./fr.js":230,"./fy":233,"./fy.js":233,"./ga":234,"./ga.js":234,"./gd":235,"./gd.js":235,"./gl":236,"./gl.js":236,"./gom-deva":237,"./gom-deva.js":237,"./gom-latn":238,"./gom-latn.js":238,"./gu":239,"./gu.js":239,"./he":240,"./he.js":240,"./hi":241,"./hi.js":241,"./hr":242,"./hr.js":242,"./hu":243,"./hu.js":243,"./hy-am":244,"./hy-am.js":244,"./id":245,"./id.js":245,"./is":246,"./is.js":246,"./it":247,"./it-ch":248,"./it-ch.js":248,"./it.js":247,"./ja":249,"./ja.js":249,"./jv":250,"./jv.js":250,"./ka":251,"./ka.js":251,"./kk":252,"./kk.js":252,"./km":253,"./km.js":253,"./kn":254,"./kn.js":254,"./ko":255,"./ko.js":255,"./ku":256,"./ku.js":256,"./ky":257,"./ky.js":257,"./lb":258,"./lb.js":258,"./lo":259,"./lo.js":259,"./lt":260,"./lt.js":260,"./lv":261,"./lv.js":261,"./me":262,"./me.js":262,"./mi":263,"./mi.js":263,"./mk":264,"./mk.js":264,"./ml":265,"./ml.js":265,"./mn":266,"./mn.js":266,"./mr":267,"./mr.js":267,"./ms":268,"./ms-my":269,"./ms-my.js":269,"./ms.js":268,"./mt":270,"./mt.js":270,"./my":271,"./my.js":271,"./nb":272,"./nb.js":272,"./ne":273,"./ne.js":273,"./nl":274,"./nl-be":275,"./nl-be.js":275,"./nl.js":274,"./nn":276,"./nn.js":276,"./oc-lnc":277,"./oc-lnc.js":277,"./pa-in":278,"./pa-in.js":278,"./pl":279,"./pl.js":279,"./pt":280,"./pt-br":281,"./pt-br.js":281,"./pt.js":280,"./ro":282,"./ro.js":282,"./ru":283,"./ru.js":283,"./sd":284,"./sd.js":284,"./se":285,"./se.js":285,"./si":286,"./si.js":286,"./sk":287,"./sk.js":287,"./sl":288,"./sl.js":288,"./sq":289,"./sq.js":289,"./sr":290,"./sr-cyrl":291,"./sr-cyrl.js":291,"./sr.js":290,"./ss":292,"./ss.js":292,"./sv":293,"./sv.js":293,"./sw":294,"./sw.js":294,"./ta":295,"./ta.js":295,"./te":296,"./te.js":296,"./tet":297,"./tet.js":297,"./tg":298,"./tg.js":298,"./th":299,"./th.js":299,"./tk":300,"./tk.js":300,"./tl-ph":301,"./tl-ph.js":301,"./tlh":302,"./tlh.js":302,"./tr":303,"./tr.js":303,"./tzl":304,"./tzl.js":304,"./tzm":305,"./tzm-latn":306,"./tzm-latn.js":306,"./tzm.js":305,"./ug-cn":307,"./ug-cn.js":307,"./uk":308,"./uk.js":308,"./ur":309,"./ur.js":309,"./uz":310,"./uz-latn":311,"./uz-latn.js":311,"./uz.js":310,"./vi":312,"./vi.js":312,"./x-pseudo":313,"./x-pseudo.js":313,"./yo":314,"./yo.js":314,"./zh-cn":315,"./zh-cn.js":315,"./zh-hk":316,"./zh-hk.js":316,"./zh-mo":317,"./zh-mo.js":317,"./zh-tw":318,"./zh-tw.js":318};function s(e){var t=n(e);return a(t)}function n(e){if(!a.o(o,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return o[e]}s.keys=function(){return Object.keys(o)},s.resolve=n,e.exports=s,s.id=545},559:function(e,t,a){"use strict";a.r(t);a(328);var o=a(556),s=(a(101),a(102)),n=a(0),l=a.n(n),r=a(1),i=(a(134),a(560));const{Header:d}=s.a;var c=Object(r.g)((function(e){const t=localStorage.getItem("username");return l.a.createElement(d,{className:"header"},l.a.createElement("div",{className:"logo"},l.a.createElement("img",{src:"http://localhost:6677/logo.jpg"}),l.a.createElement("span",null,"e宠后台管理系统")),l.a.createElement("div",{className:"logout"},l.a.createElement("span",null,t,",欢迎你！"),l.a.createElement("i",{className:"logoutbtn",onClick:function(){localStorage.setItem("token",""),localStorage.setItem("username",""),e.history.push("/login")}},"退出",l.a.createElement(i.a,null))))})),m=(a(131),a(98)),g=a(561),h=a(562),u=a(563),p=a(564);const{SubMenu:f}=m.a,{Sider:j}=s.a;function y(e){const[t,a]=Object(n.useState)("home"),o=t=>{e.history.push(t)};return l.a.createElement("div",{className:"sidebar"},l.a.createElement(j,{width:200,className:"site-layout-background"},l.a.createElement(m.a,{mode:"inline",selectedKeys:[t],style:{height:"100%",borderRight:0},onClick:e=>{a(e.key)}},l.a.createElement(m.a.Item,{key:"home",icon:l.a.createElement(g.a,null),title:"首页",onClick:()=>{o("/app/home")}},"首页"),l.a.createElement(m.a.Item,{key:"custom",icon:l.a.createElement(h.a,null),title:"用户管理",onClick:()=>{o("/app/custom")}},"用户管理"),l.a.createElement(m.a.Item,{key:"goods",icon:l.a.createElement(u.a,null),title:"商品管理",onClick:()=>{o("/app/goods")}},"商品管理"),l.a.createElement(m.a.Item,{key:"order",icon:l.a.createElement(p.a,null),title:"订单管理",onClick:()=>{o("/app/order")}},"订单管理"))))}var b=y=Object(r.g)(y);var k=function(){return l.a.createElement("div",{className:"home"},l.a.createElement("h1",null,"欢迎来到e宠后台管理系统"))},E=(a(111),a(124)),x=(a(125),a(122)),v=(a(78),a(86)),w=(a(64),a(63)),I=(a(157),a(123)),O=(a(79),a(87)),C=(a(88),a(84)),S=a(80),z={getUserList:()=>Object(S.a)({method:"get",url:"user/userlist"}),searchUser(e){let t="";for(let a in e)t+=a+"="+e[a]+"&";return t=t.slice(0,-1),Object(S.a)({method:"get",url:"user/search?"+t})},removeUser:e=>Object(S.a)({method:"delete",url:"user/del/"+e})};a(400);var F=function(e){const[t]=C.a.useForm(),[a,o]=Object(n.useState)([]),[s,r]=Object(n.useState)(!1),[i,d]=Object(n.useState)(""),[c,m]=Object(n.useState)(""),[g,h]=Object(n.useState)("");Object(n.useEffect)(()=>{!async function(){try{let e=await z.getUserList();if(200==e.data.code){let t=e.data.data;t.map(e=>(e.feedtime&&(e.feedtime=new Date(e.feedtime).toLocaleDateString()),e.key=e.uid,e)),o(t)}else 300==e.data.code?O.a.info("查询失败"):O.a.info("服务器出错")}catch(e){console.log(e)}}()},[g]);const{Option:u}=I.a,p=Object(n.useCallback)(async e=>{try{let t=await z.removeUser(e);200==t.data.code?O.a.success("删除成功"):300==t.data.code?O.a.error("删除失败"):O.a.error("服务器出错")}catch(e){console.log(e)}}),f=[{title:"序号",dataIndex:"uid",key:"order",width:30,render:(e,t,a)=>l.a.createElement("span",null,a+1),fixed:"left"},{title:"用户名",width:50,dataIndex:"username",key:"name"},{title:"用户id",dataIndex:"uid",key:"id",width:30},{title:"年龄",width:30,dataIndex:"age",key:"age"},{title:"性别",dataIndex:"gender",key:"gender",width:30},{title:"首次养宠物",dataIndex:"feedtime",key:"feedtime",width:40},{title:"头像",dataIndex:"avatar",key:"avatar",width:50,render:(e,t,a)=>l.a.createElement("img",{src:e,style:{width:40,height:40}})},{title:"操作",key:"operation",fixed:"right",width:60,render:(e,t,a)=>{let o=t.uid,s=t.username;return l.a.createElement("div",null,l.a.createElement(w.a,{type:"primary",danger:!0,onClick:()=>{((e,t)=>{d(e),m(t),r(!0)})(o,s)}},"删除"))}}];return l.a.createElement("div",{className:"custom"},l.a.createElement(C.a,{form:t,name:"advanced_search",className:"search-form",onFinish:async e=>{let t={};for(let a in e)e[a]&&(t[a]=e[a]);try{let e=await z.searchUser(t);if(200==e.data.code){let t=e.data.data;t.map(e=>(e.feedtime&&(e.feedtime=new Date(e.feedtime).toLocaleDateString()),e.key=e.uid,e)),o(t)}else 300==e.data.code?O.a.info("该用户不存在"):O.a.info("服务器出错")}catch(e){console.log(e)}}},l.a.createElement(C.a.Item,{name:"uid",label:"用户id",rules:[{whitespace:!0,message:"请勿输入空格"}]},l.a.createElement(v.a,{placeholder:"请输入用户id",style:{width:120}})),l.a.createElement(C.a.Item,{name:"username",label:"用户名",rules:[{whitespace:!0,message:"请勿输入空格"}]},l.a.createElement(v.a,{placeholder:"请输入用户名",style:{width:120}})),l.a.createElement(C.a.Item,{name:"gender",label:"性别"},l.a.createElement(I.a,{placeholder:"请选择性别",allowClear:!0,style:{width:120}},l.a.createElement(u,{value:"男"},"男"),l.a.createElement(u,{value:"女"},"女"))),l.a.createElement(C.a.Item,null,l.a.createElement(w.a,{type:"primary",htmlType:"submit"},"搜索"),l.a.createElement(w.a,{htmlType:"button",onClick:()=>{t.resetFields()}},"重置"))),l.a.createElement(x.a,{columns:f,dataSource:a,scroll:{x:1e3,y:320},bordered:!0,size:"middle"}),l.a.createElement(E.a,{title:"删除用户",visible:s,onOk:()=>{p(i),r(!1),h("改变了")},onCancel:()=>{r(!1)},cancelText:"取消",okText:"确认",okType:"primary",style:{textAlign:"center"},width:320},l.a.createElement("p",null,"确认删除该用户“ ",l.a.createElement("span",null,c)," ”吗？")))},N=(a(533),a(538)),T=(a(536),a(565)),q={getgood:e=>Object(S.a)({method:"get",url:"goodsMms/goodlist?page="+e}),addgood(e){let{name:t,price:a,images:o}=e;return Object(S.a)({method:"post",url:"goodsMms/addGoods",data:{name:t,price:a,images:o}})},changegood(e,t){let{name:a,price:o,images:s}=t;return Object(S.a)({method:"put",url:"goodsMms/edit/"+e,data:{name:a,price:o,images:s}})},delgood:e=>Object(S.a)({method:"delete",url:"goodsMms/del/"+e}),search:(e,t)=>Object(S.a)({method:"get",url:`goodsMms/search?id=${e}&name=${t}`})};function M(){return(M=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(e[o]=a[o])}return e}).apply(this,arguments)}let{Search:L}=v.a;const{confirm:_}=E.a;class D extends n.Component{constructor(){super(),this.getgoods=async e=>{try{let t=await q.getgood(e);if(console.log(t),t.data.flag){let e=[];t.data.data.map((t,a)=>{t.key=a,e.push(t)}),this.setState({GoodsList:e,total:t.data.total})}}catch(e){console.log(e),O.a.warning("服务器出错")}},this.changeform=(e,t)=>{0==e?this.setState({openform:!1}):1==e?this.setState({openform:!0,type:1,value:{text:"添加",name:"",price:"",images:""}}):2==e&&this.setState({openform:!0,putID:t.Id,type:2,value:{text:"修改",name:t.name,price:t.price,images:t.images}})},this.searchValue=e=>{1*e?this.serchgood(e,""):this.serchgood("",e)},this.serchgood=async(e,t)=>{try{let a=await q.search(e,t);if(a.data.flag){O.a.success("查询成功");let e=[];a.data.data.map((t,a)=>{t.key=a,e.push(t)}),this.setState({GoodsList:e,total:a.data.total})}else O.a.warning("查询失败")}catch(e){console.log(erroe),O.a.warning("服务器出错")}},this.remove=e=>{let{page:t}=this.state,a=this.getgoods;_({title:"警告",icon:l.a.createElement(T.a,null),content:"你确定删除吗，将无法撤回！",okText:"确定",okType:"danger",cancelText:"取消",async onOk(){try{(await q.delgood(e)).data.flag?(O.a.success("删除成功"),a(t)):O.a.warning("删除失败")}catch(e){console.log(e),O.a.warning("服务器出错")}},onCancel(){}})},this.onFinish=e=>{let{type:t}=this.state;1==t?this.addgood(e):2==t&&this.changegood(e)},this.changegood=async e=>{let{page:t,putID:a}=this.state;console.log(e);try{(await q.changegood(a,e)).data.flag?(O.a.success("修改成功"),this.setState({openform:!1}),this.getgoods(t)):O.a.warning("修改失败")}catch(e){console.log(e),O.a.warning("服务器出错")}},this.addgood=async e=>{let{page:t}=this.state;try{(await q.addgood(e)).data.flag?(O.a.success("添加成功"),this.setState({openform:!1}),this.getgoods(t)):O.a.warning("添加失败")}catch(e){console.log(e),O.a.warning("服务器出错")}},this.onFinishFailed=()=>{O.a.warning("请正确输入信息")},this.changePage=e=>{this.setState({page:e}),this.getgoods(e)},this.state={columns:[{title:"商品id",dataIndex:"Id",key:"Id"},{title:"商品名字",dataIndex:"name",key:"name"},{title:"商品价格",dataIndex:"price",key:"price"},{title:"商品图片",dataIndex:"images",key:"images"},{title:"操作",key:"action",render:(e,t)=>l.a.createElement(N.a,{size:"middle"},l.a.createElement("button",{className:"boxbutton",onClick:this.changeform.bind(this,2,t)},"修改"),l.a.createElement(w.a,{onClick:this.remove.bind(this,t.Id),type:"dashed"},"删除"))}],GoodsList:[],layout:{labelCol:{span:6},wrapperCol:{span:16}},tailFormItemLayout:{wrapperCol:{xs:{span:24,offset:0},sm:{span:16,offset:8}}},value:{text:"",name:"",price:"",images:""},openform:!1,type:1,page:1,putID:0,total:0}}componentDidMount(){this.getgoods(1)}render(){let{columns:e,GoodsList:t,layout:a,tailFormItemLayout:o,value:s,openform:n,total:r}=this.state;return l.a.createElement("div",{className:"goods"},l.a.createElement(L,{placeholder:"输入商品Id或名字",onSearch:this.searchValue.bind(this),style:{width:"400px",borderRadius:"10px",marginLeft:"20px",marginBottom:"10px"}}),l.a.createElement(w.a,{className:"add",type:"primary",onClick:this.changeform.bind(this,1)},"添加"),l.a.createElement(x.a,{columns:e,dataSource:t,size:"small",pagination:{total:r,onChange:this.changePage}}),n?l.a.createElement("div",{className:"formfater"},l.a.createElement("div",{className:"formlist"},l.a.createElement("h2",null,s.text,"信息"),l.a.createElement(C.a,M({},a,{name:"basic",initialValues:{name:s.name,price:s.price,images:s.images},onFinish:this.onFinish,onFinishFailed:this.onFinishFailed}),l.a.createElement(C.a.Item,{label:"商品名称",name:"name",rules:[{required:!0,message:"请输入内容!"}]},l.a.createElement(v.a,null)),l.a.createElement(C.a.Item,{label:"商品价格",name:"price",rules:[{required:!0,message:"请输入内容!"}]},l.a.createElement(v.a,null)),l.a.createElement(C.a.Item,{label:"商品图片",name:"images",rules:[{required:!0,message:"请输入内容!"}]},l.a.createElement(v.a,null)),l.a.createElement(C.a.Item,o,l.a.createElement(w.a,{type:"primary",htmlType:"submit"},s.text),"       ",l.a.createElement(w.a,{type:"primary",onClick:this.changeform.bind(this,0)},"取消"))))):"")}}var R=D,U=a(112);var V=a.n(U).a.create({baseURL:"/dev",timeout:5e3}),G={getorder:()=>V.get("/order/orderlist"),orderremove:(e,t)=>V.delete("/order/orderlist/remove",{data:{uid:e,gid:t}}),orderlistid:(e,t)=>V.get("/order/orderlists",{params:{uid:e,gid:t}}),orderlistput:(e,t,a)=>V.put("/order/orderlists/"+t,{data:{values:e,ordertime:a}}),addorderlist:(e,t)=>V.post("order/orderlist/add",{data:{values:e,ordertime:t}})},P=(a(539),a(557),a(555));function J(){return(J=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(e[o]=a[o])}return e}).apply(this,arguments)}const $=({visible:e,onCancel:t,rowinfo:a,mark:o,onReset:s})=>{const[r,i]=Object(n.useState)(""),[d]=C.a.useForm();return Object(n.useEffect)(()=>{i(a),o?d.setFieldsValue({uid:a.uid,gid:a.gid,goodname:a.goodname,goodqty:a.goodqty,goodtitle:a.goodtitle,goodprice:a.goodprice}):d.resetFields()},[o,d,a]),l.a.createElement(E.a,{getContainer:!1,destroyOnClose:!0,title:o?"修改订单":"新增订单",okText:"提交",cancelText:"取消",visible:e,onOk:()=>{d.validateFields().then(e=>{if(o){let t=e.gid,a=e["date-picker"]._d;G.orderlistput(e,t,a).then(e=>{console.log(e)});s()}else{console.log(e);let t=e["date-picker"]._d,a=e.uid,o=e.gid;G.orderlistid(a,o).then(a=>{if(a.data.flag)O.a.error("商品已存在请去查询修改或重新修改");else{O.a.success("商品不存在可以新增");G.addorderlist(e,t).then(e=>{e.data.flag&&O.a.success("新增订单成功")});s()}})}}).catch(e=>{console.log(e)})},onCancel:()=>{t(),d.setFieldsValue({}),d.resetFields(),i("")}},l.a.createElement(C.a,J({form:d},n.layout,{name:"basics"}),l.a.createElement(C.a.Item,{label:"uid",name:"uid",style:o?{display:"none"}:{display:"block"}},l.a.createElement(v.a,null)),l.a.createElement(C.a.Item,{label:"gid",name:"gid",style:o?{display:"none"}:{display:"block"}},l.a.createElement(v.a,null)),l.a.createElement(C.a.Item,{label:"goodname",name:"goodname"},l.a.createElement(v.a,null)),l.a.createElement(C.a.Item,{label:"goodprice",name:"goodprice"},l.a.createElement(v.a,null)),l.a.createElement(C.a.Item,{label:"goodqty",name:"goodqty"},l.a.createElement(v.a,null)),l.a.createElement(C.a.Item,{label:"goodtitle",name:"goodtitle"},l.a.createElement(v.a,null)),l.a.createElement(C.a.Item,{name:"date-picker",label:"ordertime"},l.a.createElement(P.a,null))))};function H(){return(H=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(e[o]=a[o])}return e}).apply(this,arguments)}let A=[];G.getorder().then(e=>{for(let t=0;t<e.data.data.p.length;t++)A.push({key:t+1,uid:e.data.data.p[t].uid,gid:e.data.data.p[t].gid,goodname:e.data.data.p[t].goodname,goodqty:e.data.data.p[t].goodqty,goodtitle:e.data.data.p[t].goodtitle,goodprice:e.data.data.p[t].goodprice,ordertime:e.data.data.p[t].ordertime})});const B={labelCol:{span:8},wrapperCol:{span:16}},K={wrapperCol:{offset:8,span:16}};class Q extends n.Component{constructor(){super(),this.onFinish=e=>{if(console.log(e),null==e.gid&&null==e.uid)O.a.error("uid,gid不能为空");else{let t=e.gid,a=e.uid;console.log(this.state.react);G.orderlistid(a,t).then(e=>{for(let t=0;t<e.data.data.p.length;t++)e.data.data.p[t]={...e.data.data.p[t],key:t+1};this.setState({datas:e.data.data.p,total:e.data.data.p.length})})}},this.onReset=()=>{G.getorder().then(e=>{let t=[];for(let a=0;a<e.data.data.p.length;a++)t.push({key:a+1,uid:e.data.data.p[a].uid,gid:e.data.data.p[a].gid,goodname:e.data.data.p[a].goodname,goodqty:e.data.data.p[a].goodqty,goodtitle:e.data.data.p[a].goodtitle,goodprice:e.data.data.p[a].goodprice,ordertime:e.data.data.p[a].ordertime});this.setState({datas:t,total:t.length,visible:!1})})},this.onFinishFailed=e=>{console.log("Failed:",e)},this.eidt=e=>{console.log(e),this.setState({visible:!0,rowinfo:e,mark:!0})},this.removeritem=async e=>{let t=e.uid,a=e.gid;try{if((await G.orderremove(t,a)).data.flag){O.a.success("删除成功");G.getorder().then(e=>{let t=[];for(let a=0;a<e.data.data.p.length;a++)t.push({key:a+1,uid:e.data.data.p[a].uid,gid:e.data.data.p[a].gid,goodname:e.data.data.p[a].goodname,goodqty:e.data.data.p[a].goodqty,goodtitle:e.data.data.p[a].goodtitle,goodprice:e.data.data.p[a].goodprice,ordertime:e.data.data.p[a].ordertime});this.setState({datas:t,total:t.length})})}else O.a.error("删除失败")}catch(e){console.log(e)}},this.onCreate=()=>{this.setState({visible:!1})},this.addodrder=()=>{this.setState({visible:!0,rowinfo:"",mark:!1})},this.state={columns:[{title:"uid",dataIndex:"uid",width:80},{title:"gid",dataIndex:"gid",width:100},{title:"goodname",dataIndex:"goodname"},{title:"goodqty",dataIndex:"goodqty",width:100},{title:"goodtitle",dataIndex:"goodtitle"},{title:"goodprice",dataIndex:"goodprice"},{title:"ordertime",dataIndex:"ordertime"},{title:"aciton",ket:"action",render:(e,t)=>l.a.createElement("span",null,l.a.createElement("button",{onClick:this.eidt.bind(null,t)},"修改"),l.a.createElement("button",{onClick:this.removeritem.bind(null,t)},"删除"))}],datas:[],total:0,mark:!1,visible:!1}}componentDidMount(){this.setState({datas:A,total:A.length})}render(){return l.a.createElement("div",{className:"order"},l.a.createElement(C.a,H({ref:this.formRef},B,{name:"basic",initialValues:{remember:!0},onFinish:this.onFinish,onFinishFailed:this.onFinishFailed}),l.a.createElement(C.a.Item,{label:"uid",name:"uid"},l.a.createElement(v.a,null)),l.a.createElement(C.a.Item,{label:"gid",name:"gid"},l.a.createElement(v.a,null)),l.a.createElement(C.a.Item,K,l.a.createElement(w.a,{type:"primary",htmlType:"submit"},"查询"),l.a.createElement(w.a,{htmlType:"button",onClick:this.onReset},"重置"),l.a.createElement(w.a,{htmlType:"button",onClick:this.addodrder},"新增"))),l.a.createElement(x.a,{columns:this.state.columns,dataSource:this.state.datas,pagination:{pageSizeOptions:[10,20,30,40],showQuickJumper:!0,total:this.state.total,showTotal:e=>`Total ${e} items`},scroll:{y:650}}),l.a.createElement($,{visible:this.state.visible,onReset:this.onReset,onCancel:()=>{this.setState({visible:!1})},rowinfo:this.state.rowinfo,mark:this.state.mark}))}}var W=Q,X=a(121);var Y=function(e){return class extends e{constructor(){super(),this.checklogin=async e=>{try{(await X.a.checkToken(e)).data.flag?this.setState({login:!0}):(console.log(1),this.props.history.push("/login"))}catch(e){console.log(e)}},this.state||(this.state={}),this.state.login=!1}componentDidMount(){let e=localStorage.getItem("token");e?this.checklogin(e):this.props.history.push("/login")}render(){const{login:e}=this.state;return e?super.render():l.a.createElement("div",null,"请先登录系统")}}};const{Content:Z}=s.a;class ee extends n.Component{constructor(){super()}render(){return l.a.createElement("div",{className:"layout"},l.a.createElement(s.a,{style:{height:"100vh"}},l.a.createElement(c,null),l.a.createElement(s.a,null,l.a.createElement(b,null),l.a.createElement(s.a,{style:{padding:"0 24px 24px"}},l.a.createElement(o.a,{style:{margin:"16px 0"}},l.a.createElement(o.a.Item,null,window.location.href.split("/")[5])),l.a.createElement(Z,{className:"site-layout-background",style:{padding:24,margin:0,minHeight:460}},l.a.createElement(r.b,{path:"/app/home",component:k}),l.a.createElement(r.b,{path:"/app/custom",component:F}),l.a.createElement(r.b,{path:"/app/goods",component:R}),l.a.createElement(r.b,{path:"/app/order",component:W}),l.a.createElement(r.a,{from:"/app",to:"/app/home",exact:!0}))))))}}ee=Y(ee);t.default=ee},80:function(e,t,a){"use strict";var o=a(112);const s=a.n(o).a.create({baseURL:"/local"});t.a=s}}]);